---
icon: IconDirectory
title: 'middleware'
head.title: Middleware directory
---

# Middleware directory

Nuxt provides a customizable page middleware framework you can use throughout your application, ideal for extracting code that you want to run before navigating to a particular route.

::alert{type=info}
Nuxt page middleware run within the Vue part of your Nuxt app. Despite the name, they are completely different from server middleware, which are run in the Nitro server part of your app.
::

There are two kinds of page middleware:

1. Anonymous (or inline) middleware, which are defined directly in the pages where they are used.
2. Named middleware, which are placed in the `middleware/` directory and will be automatically loaded via asynchronous import when used on a page.

Both kinds of middleware can be [defined in `definePageMeta`](/docs/directory-structure/pages).

## Format

Nuxt middleware are navigation guards that receive the current route and the next route as arguments.

```js
export default defineNuxtMiddleware((to, from) => {
  // ...
})
```

Unlike, navigation guards in [the vue-router docs](https://next.router.vuejs.org/guide/advanced/navigation-guards.html#global-before-guards), a third `next()` argument is not passed, and redirects or route cancellation is handled by returning a value from the middleware. In brief, possible return values are:

* `undefined`, `true`, or nothing - does not block navigation and will move to the next middleware function, if any, or complete the route navigation
* `false` - stops the current navigation
* `'/'` or `{ path: '/' }` - redirects to the given path
* `Error` (or throwing an error) - rejects the current navigation with an error

## Example: a named middleware

```bash
-| middleware/
---| auth.ts
```

In your page file, you can reference this middleware

```vue
<script setup>
definePageMeta({
  middleware: ["auth"]
  // or middleware: 'auth'
})
</script>
```

Now, before navigation to that page can complete, the `auth` middleware will be run.
